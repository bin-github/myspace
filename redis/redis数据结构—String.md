### redis 内部结构字符串
##### 1、string
> 1、string 实质是redis自定义的一个结构，sds（simple dynamic string）

> 2、结构体
```
struct sdshdr{
    int len;// 记录保存字符串的实际长度
    int free;// 记录buf中未使用的字节数量
    char buf[];//保存字符串实体，字符串末尾会多保存一个空字符‘\0’，以便和c中的字符串保持一致，使用c中对字符串的函数
}
```
> 3、sds的优势
>> 1、获取字符串长度从O（n）变为O（1），直接获取len属性值即可，无需遍历整个字符串

>> 2、防止内存溢出：通过检查函数，在进行字符串添加时先检查字符串分配内存的的长度，确保申请有足够的内存长度，

>> 3、减少修改字符串时带来的内存重分配次数：随着字符串的不断变化，内存的申请和释放也将会变化，这样会降低系统的性能，sds实现了空间预分配和惰性释放两种策略
>>> 1、预分配：sds的api进行修改内容时，除了分配相应大小的内存外还会多分配一倍当前大小的内存，free字段和len字段值相同，buf的大小为=len+free+1字节，当len的大小大于1m的时候，每次多预分配1m，而不是一倍，以防止内存的过度消耗；
>>> 2、惰性释放：当字符串缩短时，buf数组的无用长度不会立即释放，而是将可用的大小记录在free字段中，以便下次保存字符串时复用。sds的api提供相应的函数去真正释放sds未使用空间，以防止内存浪费


1、上线课程体系新增“课程类别”字段功能（100%）；
2、遗留bug解决：两个定位后与产品确认无需解决，已解决一个，剩余两个；
3、开发：需求M.12.40/B1.2.40的开发（90%）；
4、服务后台框架设计（20%）

1、连调：和客户端连调需求M.12.40/B1.2.40；
2、后台服务框架设计；
3、解决遗留bug；
